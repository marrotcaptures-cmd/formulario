<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Servicios Creativos</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="formulario-container">
  <form id="formulario" action="https://formsubmit.co/marrotcaptures@gmail.com" method="POST">
    <h1><center>CONFIGURA TU PACK</center></h1>

    <h2>Sesiones de Fotos</h2>
    <input type="radio" id="foto0" name="sesion-foto" value="0">
    <label for="foto0">0 â€“ â‚¬0</label>

    <input type="radio" id="foto1" name="sesion-foto" value="80">
    <label for="foto1">1 â€“ â‚¬80</label>

    <input type="radio" id="foto2" name="sesion-foto" value="130">
    <label for="foto2">2 â€“ â‚¬130</label>

    <input type="radio" id="foto3" name="sesion-foto" value="200">
    <label for="foto3">3 â€“ â‚¬200</label>

    <input type="radio" id="foto4" name="sesion-foto" value="250">
    <label for="foto4">4 â€“ â‚¬250</label>

    <h2>Videos Escenas</h2>
    <input type="radio" id="video0" name="escena-video" value="0">
    <label for="video0">0 â€“ â‚¬0</label>

    <input type="radio" id="video1" name="escena-video" value="100">
    <label for="video1">1 â€“ â‚¬100</label>

    <input type="radio" id="video2" name="escena-video" value="175">
    <label for="video2">2 â€“ â‚¬175</label>

    <input type="radio" id="video3" name="escena-video" value="225">
    <label for="video3">3 â€“ â‚¬225</label>

    <input type="radio" id="video4" name="escena-video" value="275">
    <label for="video4">4 â€“ â‚¬275</label>

    <input type="radio" id="video5" name="escena-video" value="325">
    <label for="video5">5 â€“ â‚¬325</label>

    <h2>Castings</h2>
    <input type="radio" id="casting0" name="casting" value="0">
    <label for="casting0">0 â€“ â‚¬0</label>

    <input type="radio" id="casting1" name="casting" value="20">
    <label for="casting1">1 â€“ â‚¬20</label>

    <input type="radio" id="casting2" name="casting" value="35">
    <label for="casting2">2 â€“ â‚¬35</label>

    <input type="radio" id="casting3" name="casting" value="40">
    <label for="casting3">3 â€“ â‚¬40</label>

    <input type="radio" id="casting4" name="casting" value="45">
    <label for="casting4">4 â€“ â‚¬45</label>

    <input type="radio" id="casting5" name="casting" value="50">
    <label for="casting5">5 â€“ â‚¬50</label>

    <h2>PÃ¡gina Web</h2>
    <input type="radio" id="web1" name="pagina-web" value="0">
    <label for="web1">No â€“ â‚¬0</label>

    <input type="radio" id="web2" name="pagina-web" value="75">
    <label for="web2">SÃ­ â€“ â‚¬75</label>

    <h2 style="text-align: center;">TelÃ©fono de contacto</h2>
      <input
      type="tel"
      name="telefono"
      placeholder="Ej. 612345678"
      required
      minlength="9"
      maxlength="9"
      pattern="\d{9}"
      title="Introduce un nÃºmero de 9 cifras sin espacios ni sÃ­mbolos" required>


    <button type="submit" id="boton-enviar">Enviar</button>
  </form>

  <div id="total">ðŸ’° Total: â‚¬0</div>
</div>

<script>
  // REFERENCIAS
  const formulario = document.getElementById("formulario");
  const totalDiv    = document.getElementById("total");
  const radios      = formulario.querySelectorAll('input[type="radio"]');

  // FUNCIÃ“N QUE SUMA
  function calcularTotal() {
    let total = 0;
    ["sesion-foto", "escena-video", "casting", "pagina-web"].forEach(name => {
      const sel = formulario.querySelector(`input[name="${name}"]:checked`);
      if (sel) total += parseFloat(sel.value);
    });
    totalDiv.textContent = `ðŸ’° Total: â‚¬${total.toFixed(2)}`;
  }

  // 1) Recalcular al cambiar cualquier radio
  formulario.addEventListener("change", calcularTotal);

  // 2) Hack para que al volver a clicar desmarque
  radios.forEach(radio => {
    let wasChecked = false;

    radio.addEventListener("mousedown", () => {
      wasChecked = radio.checked;
    });

    radio.addEventListener("click", e => {
      if (wasChecked) {
        radio.checked = false;
        radio.dispatchEvent(new Event("change", { bubbles: true }));
        e.preventDefault();
      }
    });
  });

  // 3) Asegurar suma antes de enviar
  document.getElementById("boton-enviar")
    .addEventListener("click", calcularTotal);

  // 4) Calcular valor inicial (por si habÃ­a un valor por defecto)
  calcularTotal();
</script>



</body>
</html>
